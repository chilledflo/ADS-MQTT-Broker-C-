# ADS Realtime Bridge - Konfiguration
# Hard Real-Time System mit <1ms Latenz

[plc]
# Beckhoff TwinCAT PLC Connection
ip = 192.168.3.42
ams_net_id = 192.168.3.42.1.1
port = 851

[mqtt]
# MQTT Broker Connection
broker = localhost
port = 1883
client_id = ads-realtime-bridge
keepalive = 60
clean_session = true

# MQTT Topics
topic_prefix = twincat/plc
topic_data = twincat/plc/data
topic_stats = twincat/plc/stats
topic_latency = twincat/plc/latency

[realtime]
# Hard Real-Time Konfiguration
notification_cycle_us = 100        # 100µs = 10kHz Update Rate
max_latency_us = 1000             # 1ms Maximum Latency
thread_priority = TIME_CRITICAL    # Windows Thread Priority
cpu_affinity = 1                   # CPU Core 1 (0-based)

[performance]
# Performance Monitoring
stats_interval_ms = 1000          # Statistiken alle 1 Sekunde
latency_buckets = 10,50,100,250,500,750,1000,2000,5000  # µs
enable_histogram = true
log_violations = true             # Latenz-Überschreitungen loggen

[variables]
# ADS Variablen zum Überwachen
# Format: name = symbol_path, datatype, size_bytes
var_1 = MAIN.Temperature, REAL, 4
var_2 = MAIN.Pressure, REAL, 4
var_3 = MAIN.Speed, INT, 2
var_4 = MAIN.Position, DINT, 4
var_5 = MAIN.Status, BOOL, 1

[logging]
# Logging Konfiguration
level = INFO                      # DEBUG, INFO, WARNING, ERROR
console = true
file = ads-realtime.log
max_file_size_mb = 100
rotate_count = 5
